<html lang="en">{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="{% static '/CSS/styles.css' %}">
    <link rel="stylesheet" href="{% static '/CSS/font-awesome/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static '/CSS/css/bootstrap.min.css' %}">
    <script src="{% static '/Javascript/js/jquery.min.js' %}"></script>

    <title>Administration Home</title>
</head>
<body>
<!-- Header -->
<div class="site-header" id="header">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark index__navbar scrolled" id="header">
    <div class="container-fluid">
      <div>
        <span style="font-size:20px;cursor:pointer; color:#2c5f2dff; margin-left:10px;" id="navButton" onclick="openOffcanvas()"><i class="fa fa-fw fa-bars"></i></span>
        <a href="#" class="name" style="text-decoration: none;">
            <img class="navbar-icon" style="margin-left:15px;" src="../static/Media/avatar.png" alt="dasma-logo">
            <span id="hidetitle" class="brand__name" style="color:#2c5f2dff;">City of Dasmariñas</span>
        </a>
      </div>
      <div class="dropdown">
        <button class="btn dropdown-toggle" type="button" id= "Headerddb" data-bs-toggle="dropdown" style="margin-right:30px;"> <i class="fa fa-fw fa-user"></i>Admin</button>
        <ul class="dropdown-menu" id="dropdown-menu">
            <li><a class="dropdown-item" href="{% url 'logout' %}">Log Out</a></li>
        </ul>
      </div>
  </div>
  </nav>
</div>

<!-- Side Nav -->
<div id="mySidenav" class="sidenav">
  <ul class="list-unstyled ps-0">
      <div class="buttons">
          <a id="home" href="{% url 'admin_home' %}"><i class="fa fa-fw fa-home"></i>Home</a>
          <a href="{% url 'bhw_validation' %}"><i class="fa fa-fw fa-user-nurse"></i>Validate BHW</a>
      </div>
      <br>
  </ul>
</div>
<div id="myCanvasNav" onclick="closeOffcanvas()"></div>
  
<!-- Dashboard -->
    <div id="grid" class="container-fluid">
      <div class="container-grid">
          <h2 style="text-align:left;">Overall Data</h2>
          <hr>
          <br>
          <!-- MAIN CARDS STARTS HERE -->
          <div class="row">
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-check" style="color: green; position:relative; margin-right:10px;"></i>Number of Validated BHW</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ validated_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-spinner" style="color:orange; position:relative; margin-right:10px;"></i>Number of Non-Validated BHW</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ invalidated_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-user"></i>Number of Parents</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ parent_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-user-circle"></i>Number of Preschoolers</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ preschooler_count }}</h5>
                      </div>
                  </div>
              </div>

              <main>
                  <div class="container-fluid px-4">
                      <div class="card text-dark bg-light mb-4">
                          <div class="card-header">
                              <i class="fas fa-chart-pie me-1"></i> Pie Chart 
                          </div>
                          <div class="row g-0">
                              <div class="col-md-12">
                                  <canvas id="myPieChart" width="100%" height="40"></canvas>
                              </div>
                          </div>
                          <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
                      </div>
                  </div>
              </main>
          </div>
      </div>
  </div>
<!-- Form-->

    <!-- Footer -->
<div class="site-footer" id="footer">
  <div class="container">
      <div class="row">
          <div class="col-lg-4">
              <h2 class="footer-heading mb-4">About</h2>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
                  Modi cumque tenetur inventore veniam, hic vel ipsa necessitatibus 
                  ducimus architecto fugiat!
              </p>
              <div class="my-5">
                  <a href="#" class="pl-0 pr-3"><span class="icon-facebook"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-twitter"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-instagram"></span></a>
                  <a href="#" class="pl-3 pr-3"><span class="icon-linkedin"></span></a>
              </div>
          </div>
          <div class="col-lg-8">
              <div class="row">
                  <div class="col-lg-4">
                      <h2 class="footer-heading mb-4">Quick Links</h2>
                      <ul class="list-unstyled">
                      <li><a href="#">FAQs</a></li>
                      <li><a href="#">Contact Us</a></li>
                      </ul>
                  </div>
                  <div class="col-lg-4">
                      <h2 class="footer-heading mb-4">Helpful Link</h2>
                      <ul class="list-unstyled">
                      <li><a href="#">Healthcare Professional</a></li>
                      <li><a href="#">LGU Facilities</a></li>
                      </ul>
                  </div>
                  <div class="col-lg-4">
                      <h2 class="footer-heading mb-4">Resources</h2>
                      <ul class="list-unstyled">
                      <li><a href="#">NNC Website</a></li>
                      <li><a href="#">DOH Website</a></li>
                      </ul>
                  </div>
              </div>
          </div>
      </div>
      <div class="row text-center">
          <div class="col-md-12">
              <div class="border-top pt-5">
                  <p class="copyright"><small>
                  Copyright ©<script>document.write(new Date().getFullYear());</script> All rights reserved <i class="icon-heart text-danger" aria-hidden="true"></i>
                  </small>
                  </p>
              </div>
          </div>
      </div>
  </div>
</div>
<script src="{% static '/Javascript/js/functions.js' %}"></script>
<script src="{% static '/Javascript/js/bootstrap.bundle.min.js' %}"></script>
</body>

<script>
    Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
    Chart.defaults.global.defaultFontColor = '#292b2c';

    // Pie Chart Example
    var data_count = JSON.parse('{{ count_data|escapejs }}')
    var ctx = document.getElementById("myPieChart");
    var myPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ["Validated", "Invalidated", "Parents", "Preschoolers"],
        datasets: [{
        data: data_count,
        backgroundColor: ['#dc3545', '#ffc107', '#28a745'],
        }],
    },
    });
</script>


<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="{% static '/Javascript/testscript.js' %}"></script>
</html>