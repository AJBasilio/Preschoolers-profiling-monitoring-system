{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- table layout -->
    <link rel="stylesheet" href="{% static '/CSS/DataTables/datatables.min.css' %}">
    <script src="{% static '/Javascript/js/jquery.min.js' %}"></script>
    <script src="{% static '/Javascript/js/datatables.min.js' %}"></script>
    <script src="{% static '/Javascript/js/datatables.js' %}"></script>

    <link rel="stylesheet" href="{% static '/CSS/styles.css' %}">
    <link rel="stylesheet" href="{% static '/CSS/font-awesome/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static '/CSS/css/bootstrap.min.css' %}">
    <script src="{% static '/Javascript/js/Chart.min.js' %}" crossorigin="anonymous"></script>
    <link rel="icon" href="{% static '/Media/Dasmalogo.png' %}" type="image/y-icon">


    <title>City of Dasmariñas</title>
</head>
<body>
<!-- Header -->
<header>
    <div class="site-header">
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark index__navbar scrolled border-bottom" 
    style=" padding-left:5%; padding-right:5%;background-image: linear-gradient(to right, rgb(255, 255, 255), rgb(218, 255, 209));">
        <div class="flex-fill p-4 py-1 text-dark">
            <div class="d-flex flex-wrap align-items-center justify-content-between">
                <div>
                    <a href="#" class="name" style="text-decoration: none;">
                        <img class="navbar-icon" src="{% static '/Media/avatar.png' %}" alt="dasma-logo">
                        <span id="hidetitle" class="brand__name" style="color:rgb(3, 3, 3); margin-left:10px;">City of Dasmariñas</span>
                    </a>
                </div>
                <div id="navLinks">
                    <ul class="nav my-1 text-small">
                        <li>
                            <a href="{% url 'admin_home' %}" class="nav-link">
                            <i class="fa fa-lg fa-fw fa-home d-block bi mx-auto mb-1"></i>
                            Home
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'admin_home2' %}" class="nav-link">
                            <i class="fa fa-lg fa-fw fa-id-card d-block bi mx-auto mb-1"></i>
                            Status
                            </a>
                        </li>
                        <li>
                            <a href="{% url 'bhw_validation' %}" class="nav-link">
                            <i class="fa fa-lg fa-fw fa-user-nurse d-block bi mx-auto mb-1"></i>
                            Validate
                            </a>
                        </li>
                        <li>
                            <div class="btn-group my-2" style="margin-left: 20%;">
                                <a class="button text-decoration-none" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fa fa-lg fa-fw fa-user d-block bi mx-auto mb-1 dropdown-toggle"></i>
                                    Admin
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end " aria-labelledby="dropdownUser1">
                                    <li><a class="dropdown-item" href="{% url 'admin_home' %}">Home</a></li>
                                    <li><a class="dropdown-item" href="{% url 'admin_home2' %}">Preschooler Status</a></li>
                                    <li><a class="dropdown-item" href="{% url 'bhw_validation' %}">Validate BHW</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="{% url 'logout' %}">Sign out</a></li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    </div>
</header>
<!-- Dashboard -->
{% block dashboard%}
    <div id="grid" class="container-fluid" style="background-color: rgb(252, 252, 252);">
      <div class="container-grid">
          <h2 style="text-align:left;">Overall Data</h2>
          <hr>
          <br>
          <!-- MAIN CARDS STARTS HERE -->
          <div class="row">
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-lg fa-user-check" style="color: green; position:relative; margin-right:10px;"></i>Number of Validated BHW</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ validated_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-lg fa-user-slash" style="color:orange; position:relative; margin-right:10px;"></i>Number of Non-Validated BHW</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ invalidated_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-lg fa-user" style="color: rgb(0, 0, 0); position:relative; margin-right:10px;"></i>Number of Parents</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ parent_count }}</h5>
                      </div>
                  </div>
              </div>
              <div class="col-xl-3 col-md-4">
                  <div class="card text-dark bg-light mb-4">
                      <div class="card-header"><i class="fas fa-lg fa-baby" style="color: green; position:relative; margin-right:10px;"></i>Number of Preschoolers</div>
                      <div class="card-body">
                          <h5 class="card-title">{{ preschooler_count }}</h5>
                      </div>
                  </div>
              </div>

              <main>
                  <div class="container-fluid px-4">
                      <div class="card text-dark bg-light mb-4">
                          <div class="card-header">
                              <i class="fas fa-chart-pie me-1"></i> Pie Chart 
                          </div>
                          <div class="row g-0">
                              <div class="col-md-12">
                                  <canvas id="myPieChart" width="100%" height="40"></canvas>
                              </div>
                          </div>
                          <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
                      </div>
                  </div>
              </main>
          </div>
      </div>
  </div>
{% endblock %}
<!-- Form-->

    <!-- Footer -->
<div class="site-footer" id="footer">
  <div class="container">
      <div class="row text-center">
              <div class="border-top pt-5">
                  <p class="copyright"><small>
                  Copyright ©<script>document.write(new Date().getFullYear());</script> All rights reserved <i class="icon-heart text-danger" aria-hidden="true"></i>
                  </small>
                  </p>
              </div>
      </div>
  </div>
</div>
<script src="{% static '/Javascript/js/functions.js' %}"></script>
<script src="{% static '/Javascript/js/bootstrap.bundle.min.js' %}"></script>
<script>
    // Set new default font family and font color to mimic Bootstrap's default styling
    Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
    Chart.defaults.global.defaultFontColor = '#292b2c';

    // Pie Chart Example
    var data_count = JSON.parse('{{ count_data|escapejs }}')
    var ctx = document.getElementById("myPieChart");
    var myPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ["Validated", "Invalidated", "Parent", "Preschooler"],
        datasets: [{
        data: data_count,
        backgroundColor: ['#dc3545', '#ffc107', '#28a745'],
        }],
    },
    });

</script>
</body>
<script src="jq/jquery-2.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="{% static '/Javascript/testscript.js' %}"></script>
</html>